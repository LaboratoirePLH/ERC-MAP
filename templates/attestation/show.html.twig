{% extends 'page.html.twig' %}
{% block stylesheets %}
{{ encore_entry_link_tags('attestation_view_page') }}
{% endblock %}
{% block title %}
{{ ('attestation.view')|trans({'%id%': attestation.id}) }}
{% endblock %}
{% block content %}
<hr />
{% include "display/attestation.html.twig" with {'attestation': attestation} %}
<hr />
<div class="row">
    <div class="col-12 text-center">
        <a href=" {{ url('attestation_list') }}" class="btn btn-secondary">{{ 'generic.back'|trans }}</a>
    </div>
</div>
{% endblock %}
{% block javascripts %}
{{ encore_entry_script_tags('attestation_view_page') }}
<script type="text/javascript">
    (function ($) {
        const elements = $.parseJSON('{{ attestation.elementsFormule|default([])|json_encode()|raw }}');
        $('td.formula-cell').each(function () {
            var me = $(this);
            var formule = me.text();
            var buttons = $.fn.formulaRenderer(formule, {
                elements: elements,
                elementCls: 'btn-info',
                operatorCls: 'btn-warning'
            });
            me.empty();
            $.each(buttons, function (i, b) { me.append(b) });
        });
    })(jQuery);
</script>
{% endblock %}